<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.96.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>使用 fdm mutt msmtp 设置简易的邮件环境&nbsp;&ndash;&nbsp;Guix中文社区</title><link rel="stylesheet" href="/css/core.min.57e7589b93576dc645a743adf94441c77a52821272d21d638fbc98343c73c04651a1cd03f70eac2089abd6dc4ce693ff.css" integrity="sha384-V&#43;dYm5NXbcZFp0Ot&#43;URBx3pSghJy0h1jj7yYNDxzwEZRoc0D9w6sIImr1txM5pP/"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="使用 fdm mutt msmtp 设置简易的邮件环境" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="/images/guix-logo.svg" alt /><span class="site name">Guix中文社区</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/about/">简介</a><a class="nav item" href="/contact/">联系我们</a><a class="nav item" href="/donate/">捐赠</a><a class="nav item" href="/free-shell/">Free Shell</a><a class="nav item" href="/wiki/">Wiki</a><a class="nav item" href="/blog/">文章</a></nav></div></span></div><div class="site slogan"><span class="title">Guix China Community</span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">使用 fdm mutt msmtp 设置简易的邮件环境</h1></section><article class="article markdown-body"><p>作为Guix用户应该懂得如何使用邮件列表进行讨论</p>
<table>
<thead>
<tr>
<th>软件</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>fdm</td>
<td>收邮件，过滤邮件，分类邮件</td>
</tr>
<tr>
<td>mutt</td>
<td>管理邮件</td>
</tr>
<tr>
<td>msmtp</td>
<td>发邮件</td>
</tr>
<tr>
<td>编辑器</td>
<td>编写邮件</td>
</tr>
<tr>
<td>阅读器</td>
<td>阅读邮件</td>
</tr>
</tbody>
</table>
<p>对于编辑器和阅读器，纯文本邮件并不会有太多的限制，
可以自由选择自己喜欢的编辑器或阅读器。</p>
<h2 id="安装">安装</h2>
<p>安装软件包:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>guix package -i fdm mutt msmtp
</span></span></code></pre></div><p>安装需要的编辑器和阅读器，这个示例使用 <code>emacs</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>guix package -i emacs-no-x
</span></span></code></pre></div><h2 id="配置">配置</h2>
<p>这里的例子有一个约定:</p>
<p><code>${HOME}/Mail</code> 作为本地邮件的存放位置，从远程服务器下载的邮件都会存放在这里。</p>
<ol>
<li>
<p>fdm
创建一个配置文件:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>umask <span style="color:#ae81ff">077</span> <span style="color:#75715e"># 更严格安全的权限</span>
</span></span><span style="display:flex;"><span>touch ~/.fdm.conf
</span></span></code></pre></div><p>并写入:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>## .fdm.conf
</span></span><span style="display:flex;"><span># 默认收件箱
</span></span><span style="display:flex;"><span>action &#34;inbox&#34; maildir &#34;%h/Mail/inbox&#34;
</span></span><span style="display:flex;"><span># guix相关邮件收件箱
</span></span><span style="display:flex;"><span>action &#34;guix&#34; maildir &#34;%h/Mail/guix&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 请取消注释并修改需要的内容
</span></span><span style="display:flex;"><span># 账户设置 POP3
</span></span><span style="display:flex;"><span>#account &#34;账户名&#34; pop3s server &#34;POP3服务器&#34;
</span></span><span style="display:flex;"><span># 账户设置 IMAP
</span></span><span style="display:flex;"><span>#account &#34;账户名&#34; imaps server &#34;IMAP服务器&#34;
</span></span><span style="display:flex;"><span># 登录需要的
</span></span><span style="display:flex;"><span>#user &#34;用户名&#34; pass &#34;密码&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 将带有 guix 内容的邮件放至guix收件箱
</span></span><span style="display:flex;"><span>match &#34;guix&#34; in headers action &#34;guix&#34;
</span></span><span style="display:flex;"><span>match &#34;guix&#34; in body action &#34;guix&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 将其他邮件放至inbox
</span></span><span style="display:flex;"><span>match all action &#34;inbox&#34;
</span></span></code></pre></div><ol>
<li>
<p>msmtp
创建一个配置文件:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>umask <span style="color:#ae81ff">077</span> <span style="color:#75715e"># 更严格安全的权限</span>
</span></span><span style="display:flex;"><span>touch ~/.msmtprc
</span></span></code></pre></div><p>并写入:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>account default
</span></span><span style="display:flex;"><span>host SMTP服务器
</span></span><span style="display:flex;"><span>protocol smtp
</span></span><span style="display:flex;"><span>auth on
</span></span><span style="display:flex;"><span>from 邮箱地址
</span></span><span style="display:flex;"><span>user 登录所需用户名，通常和邮箱地址相同
</span></span><span style="display:flex;"><span>password 密码
</span></span><span style="display:flex;"><span>tls on
</span></span><span style="display:flex;"><span>tls_starttls on
</span></span></code></pre></div></li>
<li>
<p>mutt</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>umask <span style="color:#ae81ff">077</span> <span style="color:#75715e"># 更严格安全的权限</span>
</span></span><span style="display:flex;"><span>touch ~/.muttrc
</span></span></code></pre></div><p>并写入:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span># 本地邮箱的设置
</span></span><span style="display:flex;"><span>set folder=~/Mail
</span></span><span style="display:flex;"><span>set mbox=+mbox
</span></span><span style="display:flex;"><span>set spoolfile=+inbox
</span></span><span style="display:flex;"><span>set record=+sent
</span></span><span style="display:flex;"><span>set sort=threads # 邮件列表建议的显示方式
</span></span><span style="display:flex;"><span>set postponed=+drafts
</span></span><span style="display:flex;"><span>set mbox_type=Maildir
</span></span><span style="display:flex;"><span>mailboxes +inbox
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 这里示例使用Emacs作为阅读器和编辑器
</span></span><span style="display:flex;"><span>set editor=&#39;emacsclient -nw&#39;
</span></span><span style="display:flex;"><span>set pager=&#39;emacsclient -nw&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 发送邮件的命令
</span></span><span style="display:flex;"><span>set sendmail=&#34;msmtp&#34;
</span></span></code></pre></div></li>
</ol>
</li>
</ol>
<h2 id="使用">使用</h2>
<p>使用流程如下:</p>
<ol>
<li>
<p>收邮件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>fdm -v fetch
</span></span></code></pre></div></li>
<li>
<p>看邮件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mutt
</span></span></code></pre></div><p>使用快捷键 <code>c</code> 切换邮件的分类。
使用 j/k 或者方向键移动光标。
使用回车查看邮件邮件编辑器退出后会询问下一步的命令，
一般输入 <code>q</code> 来回到列表，或者 <code>j/k</code> 来看上一个/下一个邮件。
使用快捷键 <code>d</code> 为邮件添加删除标志，然后使用快捷键 <code>$</code> 提交更改删除它们。</p>
</li>
<li>
<p>发邮件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mutt
</span></span></code></pre></div><p>进入 <code>mutt</code> 之后使用快捷键 <code>m</code> 按照提示填写信息，之后会调用编辑器打开，
保存关闭之后按照提示信息发送</p>
<p>回复一个邮件时需要移动光标到这个邮件上使用快捷键 <code>r</code> 进行回复</p>
</li>
</ol>
<h2 id="邮件列表注意事项">邮件列表注意事项</h2>
<p>发送邮件到邮件列表之前通常需要订阅才可以送达至邮件列表</p>
</article>
</div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/wiki/mirror/"><span class="iconfont icon-article"></span>Guix中国镜像</a></p><p><a class="link" href="/wiki/emacs-sdcv-translate/"><span class="iconfont icon-article"></span>使用 GNU Emacs + sdcv 阅读外语文档</a></p></section></div></section><section id="footer"><div class="footer-wrap">
  <p class="copyright">© 2019-2021 Guix China Community</p><p>
    <a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">鄂ICP备20009141号-1</a>
  </p><p class="powerby">
    <span>Powered by </span><a href="https://gohugo.io" target="_blank">Hugo</a>
  </p>
</div>
</section><script src="/js/prism.min.0c38bcfc1858cf605bc0d983550d20e0ce6e36d54ac10e9795e8c5b4f1b6df3b8612b3362a97e0904bc45456ef5ae060.js" integrity="sha384-DDi8/BhYz2BbwNmDVQ0g4M5uNtVKwQ6XlejFtPG23zuGErM2KpfgkEvEVFbvWuBg"></script></body>

</html>